<?phpdeclare(strict_types=1);namespace DoctrineMigrations;use Doctrine\DBAL\Schema\Schema;use Doctrine\Migrations\AbstractMigration;/** * Auto-generated Migration: Please modify to your needs! */final class Version20191116122126 extends AbstractMigration{    public function getDescription() : string    {        return '';    }    public function up(Schema $schema) : void    {        // this up() migration is auto-generated, please modify it to your needs        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');        $this->addSql('CREATE TABLE answer (id INT UNSIGNED AUTO_INCREMENT NOT NULL, question_id INT UNSIGNED DEFAULT NULL, next_question_id INT UNSIGNED DEFAULT NULL, text VARCHAR(255) NOT NULL, action VARCHAR(255) DEFAULT NULL, INDEX IDX_DADD4A251E27F6BF (question_id), INDEX IDX_DADD4A251CF5F25E (next_question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE question (id INT UNSIGNED AUTO_INCREMENT NOT NULL, game_id INT UNSIGNED DEFAULT NULL, text VARCHAR(255) NOT NULL, is_start TINYINT(1) DEFAULT \'0\' NOT NULL, is_finish TINYINT(1) DEFAULT \'0\' NOT NULL, INDEX IDX_B6F7494EE48FD905 (game_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE update_log (id INT UNSIGNED AUTO_INCREMENT NOT NULL, update_id INT UNSIGNED NOT NULL, provider VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE user (id INT UNSIGNED AUTO_INCREMENT NOT NULL, provider_user_id VARCHAR(255) NOT NULL, provider_name VARCHAR(255) NOT NULL, first_name VARCHAR(255) DEFAULT NULL, last_name VARCHAR(255) DEFAULT NULL, username VARCHAR(255) DEFAULT NULL, context VARCHAR(1000) NOT NULL, created_date DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', updated_date DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE characteristic (id INT UNSIGNED AUTO_INCREMENT NOT NULL, game_id INT UNSIGNED DEFAULT NULL, name VARCHAR(255) NOT NULL, type INT NOT NULL, value_string VARCHAR(255) DEFAULT NULL, value_int INT DEFAULT NULL, INDEX IDX_522FA950E48FD905 (game_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE game (id INT UNSIGNED AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, author VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_232B318C5E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE game_constraint (id INT UNSIGNED AUTO_INCREMENT NOT NULL, game_id INT UNSIGNED DEFAULT NULL, characteristic_id INT UNSIGNED DEFAULT NULL, type INT NOT NULL, value_string VARCHAR(255) DEFAULT NULL, value_int INT DEFAULT NULL, INDEX IDX_D796491FE48FD905 (game_id), INDEX IDX_D796491FDEE9D12B (characteristic_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('CREATE TABLE game_context (id INT UNSIGNED AUTO_INCREMENT NOT NULL, user_id INT UNSIGNED DEFAULT NULL, game_id INT UNSIGNED DEFAULT NULL, context VARCHAR(1024) NOT NULL, INDEX IDX_779FFA51A76ED395 (user_id), INDEX IDX_779FFA51E48FD905 (game_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB');        $this->addSql('ALTER TABLE answer ADD CONSTRAINT FK_DADD4A251E27F6BF FOREIGN KEY (question_id) REFERENCES question (id)');        $this->addSql('ALTER TABLE answer ADD CONSTRAINT FK_DADD4A251CF5F25E FOREIGN KEY (next_question_id) REFERENCES question (id)');        $this->addSql('ALTER TABLE question ADD CONSTRAINT FK_B6F7494EE48FD905 FOREIGN KEY (game_id) REFERENCES game (id)');        $this->addSql('ALTER TABLE characteristic ADD CONSTRAINT FK_522FA950E48FD905 FOREIGN KEY (game_id) REFERENCES game (id)');        $this->addSql('ALTER TABLE game_constraint ADD CONSTRAINT FK_D796491FE48FD905 FOREIGN KEY (game_id) REFERENCES game (id)');        $this->addSql('ALTER TABLE game_constraint ADD CONSTRAINT FK_D796491FDEE9D12B FOREIGN KEY (characteristic_id) REFERENCES characteristic (id)');        $this->addSql('ALTER TABLE game_context ADD CONSTRAINT FK_779FFA51A76ED395 FOREIGN KEY (user_id) REFERENCES user (id)');        $this->addSql('ALTER TABLE game_context ADD CONSTRAINT FK_779FFA51E48FD905 FOREIGN KEY (game_id) REFERENCES game (id)');    }    public function down(Schema $schema) : void    {        // this down() migration is auto-generated, please modify it to your needs        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');        $this->addSql('ALTER TABLE answer DROP FOREIGN KEY FK_DADD4A251E27F6BF');        $this->addSql('ALTER TABLE answer DROP FOREIGN KEY FK_DADD4A251CF5F25E');        $this->addSql('ALTER TABLE game_context DROP FOREIGN KEY FK_779FFA51A76ED395');        $this->addSql('ALTER TABLE game_constraint DROP FOREIGN KEY FK_D796491FDEE9D12B');        $this->addSql('ALTER TABLE question DROP FOREIGN KEY FK_B6F7494EE48FD905');        $this->addSql('ALTER TABLE characteristic DROP FOREIGN KEY FK_522FA950E48FD905');        $this->addSql('ALTER TABLE game_constraint DROP FOREIGN KEY FK_D796491FE48FD905');        $this->addSql('ALTER TABLE game_context DROP FOREIGN KEY FK_779FFA51E48FD905');        $this->addSql('DROP TABLE answer');        $this->addSql('DROP TABLE question');        $this->addSql('DROP TABLE update_log');        $this->addSql('DROP TABLE user');        $this->addSql('DROP TABLE characteristic');        $this->addSql('DROP TABLE game');        $this->addSql('DROP TABLE game_constraint');        $this->addSql('DROP TABLE game_context');    }}